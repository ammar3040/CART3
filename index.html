<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assest/css/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <!-- header -->
    <header >
        <div class="banner">
            <span class="section-left">`
                <a href="emailto:" style="color: white; font: bolder;">Ammar15102004@email.com</a>
                <a href="tel:" style="color: white; font: bolder;">+(91)-98983-26125</a>
            </span>

            <span class="section-right">
                <img src="assest/img/grocery-store.png" style="padding-right: 20px;" id="cart-icon"
                    class='bx bx-shopping-bag'>
                <div class="cart">
                    <h2 class="cart-title">Your Cart</h2>

                    <div class="cart-content">

                    </div>
                    <!-- total -->
                    <div class="total">
                        <div class="total-title">Total</div>
                        <div class="total-price">$0</div>
                    </div>
                    <!-- buy button -->
                    <button class="btn-buy" type="button">Buy Now</button>
                    <!-- cart close -->
                    <i id="close-cart" class='bx bx-x'></i>
                </div>

            </span>
        </div>

        <div class="logo parallelogram">
            <span class="skew-fix"><img src="assest/img/logo.png" alt="LEVIOOSA"></span>
        </div>

        <div class="topnav" id="myTopnav">
            <a href="index.html" class="active">HOME</a>
            <a href="#gallery">GALLERY</a>
            <a href="#blog">BLOG</a>
            <div class="dropdown">
                <button class="dropbtn">SERVICES
                    <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content animate">
                    <a href="#">Web designing</a>
                    <a href="#">Web development</a>
                    <a href="#">Backend development</a>
                </div>
            </div>
            <a href="#contact">CONTACT</a>
            <a href="#about">ABOUT</a>
            <a href="#" title="SignIn" style="float:right;"><i class="fa fa-user"></i></a>

        </div>
    </header>
    <main>

        <!-- main section -->
        <section>

            <div class="container">
                <div class="main-sec d-flex">
                    <div class="content w-100">
                        <div class="main-img">
                            <img src="assest/img/banner -curn protine image.png" alt="">
                        </div>
                        <div class="left-img d-flex main-absulut">
                            <img src="assest/img/banner fruit.png" alt="">
                        </div>
                        <div class="right-img d-flex main-absulut">
                            <img src="assest/img/blur leaf.png" alt="">
                        </div>


                    </div>

                </div>
            </div>
            </div>


        </section>

        <!-- buy section -->
        <!-- box 1 -->
        <section class="shop container">
            <h2 class="section-title">Shop Products</h2>
        
            <div class="shop-content">
                <!-- Product 1: Protein Powder 2kg -->
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/p-1.png" alt="Protein Powder 2kg" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Protein Powder 2kg</h2>
                        <span class="subfont">High quality protein</span>
                        <span class="price color">$45</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
        
                <!-- Product 2: M2 Muscletech Nitro -->
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/p-2.png" alt="M2 Muscletech Nitro" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">M2 Muscletech Nitro</h2>
                        <span class="subfont">Ultimate strength booster</span>
                        <span class="price color">$60</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
        
                <!-- Product 3: Rule Yellow Protein -->
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/p-3.png" alt="Rule Yellow Protein" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Rule Yellow Protein</h2>
                        <span class="subfont">Perfect for muscle growth</span>
                        <span class="price color">$40</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
        
                <!-- Product 4: Amino Energy 4b00 -->
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/p-4.png" alt="Amino Energy 4b00" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Amino Energy 4b00</h2>
                        <span class="subfont">Boost your workout energy</span>
                        <span class="price color">$30</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/p-4.png" alt="Amino Energy 4b00" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Amino Energy 2b00</h2>
                        <span class="subfont">Boost your workout energy</span>
                        <span class="price color">$29</span>
                        <div class="add-cart size">
                            <button class="button type--C">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
        
                <!-- Product 5: Protein Powder 1kg -->
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/product-6.png" alt="Protein Powder 1kg" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Protein Powder 1kg</h2>
                        <span class="subfont">Great taste & blendability</span>
                        <span class="price color">$35</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/product-6.png" alt="Protein Powder 1kg" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Protein Powder 1kg</h2>
                        <span class="subfont">Great taste & blendability in combo</span>
                        <span class="price color">$60</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
        
                <!-- Product 6: Protein Powder 2kg -->
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/p-6.png" alt="Protein Powder 2kg" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Protein Powder 2kg</h2>
                        <span class="subfont">Premium protein, high quality</span>
                        <span class="price color">$50</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="imgBx">
                        <img src="assest/img/p-6.png" alt="Protein Powder 2kg" class="product-img">
                    </div>
                    <div class="contentBx">
                        <h2 class="product-title">Protein Powder 1kg</h2>
                        <span class="subfont">Premium protein, high quality</span>
                        <span class="price color">$35</span>
                        <div class="add-cart size">
                            <button class="button type--C ">
                                <div class="button__line"></div>
                                <div class="button__line"></div>
                                <span class="button__text">Add to Cart</span>
                                <div class="button__drow1"></div>
                                <div class="button__drow2"></div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
         
            
                    

            
        </section>
        


    </main>




    <script>
        // Initialize cart from localStorage or an empty array if nothing is stored
let cart = JSON.parse(localStorage.getItem("cart")) || [];

// Function to update total amount
const countTotal = () => {
  let subTotal = 0;
  cart.forEach((product) => {
    let qun = Number(product.quantity);
    let price = Number(product.price.replace('$', '')); // Remove $ for calculations
    subTotal += qun * price;
  });
  document.querySelector(".total-price").innerText = `$${subTotal.toFixed(2)}`;
};

// Function to display cart items
const dispCart = () => {
  const cartContent = document.querySelector(".cart-content");
  cartContent.innerHTML = ""; // Clear cart

  cart.forEach((product, index) => {
    const cartItem = `
      <div class="cart-box">
        <img src="${product.image}" alt="Product" class="cart-img">
        <div class="detail-box">
          <div class="cart-product-title">${product.name}</div>
          <div class="cart-price">${product.price}</div>
          <input class="cart-quantity" type="number" value="${product.quantity}" data-index="${index}">
        </div>
        <i class='bx bxs-trash-alt cart-remove' data-index="${index}"></i>
      </div>
    `;
    cartContent.innerHTML += cartItem;
  });

  // Add event listeners
  eventListeners();
  countTotal();
};

// Event listeners for handling cart actions
const eventListeners = () => {
  // Event listener for removing items from cart
  document.querySelectorAll(".cart-remove").forEach((removeBtn) => {
    removeBtn.addEventListener("click", (e) => {
      const index = e.target.getAttribute("data-index");
      cart.splice(index, 1); // Remove product from cart
      localStorage.setItem("cart", JSON.stringify(cart));
      dispCart(); // Refresh cart
    });
  });

  // Event listener for quantity changes
  document.querySelectorAll(".cart-quantity").forEach((quantityInput) => {
    quantityInput.addEventListener("change", (e) => {
      const index = e.target.getAttribute("data-index");
      const newQuantity = parseInt(e.target.value);
      if (newQuantity > 0) {
        cart[index].quantity = newQuantity;
        localStorage.setItem("cart", JSON.stringify(cart));
        dispCart(); // Refresh cart
      } else {
        e.target.value = cart[index].quantity; // Revert to previous quantity if invalid
      }
    });
  });
};

// Open cart
document.querySelector("#cart-icon").addEventListener("click", () => {
  document.querySelector(".cart").classList.add("active");
  dispCart(); // Display cart when opened
});

// Close cart
document.querySelector("#close-cart").addEventListener("click", () => {
  document.querySelector(".cart").classList.remove("active");
});

// Function to handle "Add to Cart" action for products
document.querySelectorAll('.add-cart').forEach((button) => {
  button.addEventListener('click', (e) => {
    const productBox = e.target.closest('.card');
    const title = productBox.querySelector('.product-title').innerText;
    const price = productBox.querySelector('.price').innerText;
    const image = productBox.querySelector('.product-img').src;

    // Check if the product is already in the cart
    const existingProduct = cart.find(product => product.name === title);
    if (existingProduct) {
      existingProduct.quantity += 1; // Increase quantity if product is already in cart
    } else {
      // Add new product to the cart
      const newProduct = {
        name: title,
        price: price,
        image: image,
        quantity: 1,
      };
      cart.push(newProduct);
    }

    // Update localStorage and refresh cart display
    localStorage.setItem("cart", JSON.stringify(cart));
    dispCart();
  });
});

// Function to handle the "Buy Now" button
document.querySelector('.btn-buy').addEventListener('click', () => {
  if (cart.length > 0) {
    alert('Your order is placed!');
    cart = []; // Empty the cart after purchase
    localStorage.setItem("cart", JSON.stringify(cart)); // Update localStorage
    dispCart(); // Refresh the cart display
  } else {
    alert('Your cart is empty.');
  }
});


    </script>
</body>

</html>